Chapter 6. Connecting Devices and Virtual LAN part1
2023.12.15 금 오후 3:25 ・ 65분 7초
장선규


00:00
오늘은 6장이죠. 6장 6장 커넥팅 디바이스에 대한 브랜 좀 설명을 해보도록 하겠습니다.
말 그대로 연결해주는 장치하고

00:19
어

00:20
아마 렌에 관련돼서는 마지막 주제일 것 같은데 vl이라고 하는 거를 좀 설명하려고 합니다.
커넥팅 디바이스를 보게 되면 그림 6.1이 있는데요.
이거를 보게 되면 왼쪽하고 오른쪽에 계층이 그려져 있고 가운데는 각 계층에 해당되는 장비를 보여주고 있습니다.
이게 이렇게 보면 이렇게 쭉 옆으로 나누어서 이렇게 이렇게 보면 이제 허브라는 장비는 물리계층 피지컬 레이어에 해당된다는 뜻이고요.
그다음에 링크 레이어 스위치라고 하는 거는 이렇게 그래서 이제 데이터 링크 계층에 해당되는 장비라는 얘기고 라우터라고 하는 것은 이렇게 해서 이제 네트워크 계층에 해당되는 장비다 라는 거를 보여주고 있습니다.
근데 이제 이 개념을 파악하는 거는 굉장히 중요합니다.
그러니까 피지컬 레이어에 해당되는 장비나 아니면 이제 레이어 2에 해당되는 장비이냐 아니면 네트워크 레이어에 해당되는 장비이냐라는 것을 파악하는 거는 굉장히 중요합니다.
특히 이제

01:43
네트워크를 설계하거나 그런 일들을 여러분들이 이제 나중에 하게 될 텐데 이제 그럴 때 이제 이거를 개념을 잘 이해하고 있어야 설계를 잘 할 수 있습니다.
근데 이제 제목 자체가 커넥팅 디바이스즈니까 디바이스는 허브 스위치 라우터 이런 게 디바이스라는 뜻이고요.
커넥팅한다는 것은 뭔가를 커넥트 연결한다는 뜻이 되잖아요.
그래서 연결한다라고 할 때는 뭘 연결하는 거냐 하면 어떤 장치를 연결하거나 특히 네트워크을 연결할 때 사용되는 장치들이 어떤 것들이 있느냐라는 것을 나타내는 겁니다.
그럼 이거에 따라서 완전 의미가 달라진다 라는 거예요.
그러니까 이제 이 그림에서 보여주는 것처럼 이제 피지컬 레이어에 해당되는 장비냐 이 링크 레이어에 해당되는 장비냐 네트워크 레이어에 해당되는 장비냐에 따라서 완전히 의미가 달라질 수 있다는 겁니다.
이제 리피터라는 거를 한 번 중간에 얘기를 한 적이 있었는데 리피터가 하는 역할은 이제 리피팅 하는 겁니다.
반복

02:54
반복을 하는 겁니다. 이제 리피터가 주로 어디서 쓰이냐 하면 예를 들면 t베이스 5 인터넷이 있다라고 하면 텐베이스 파니까 한 케이블의 세그먼트 이게 한 세그먼트가 되는데 요거에 이제 맥시멈 랭스가 한 500m 정도 되는 거죠.
이제 이거에 500m로 한정하는 이유는 이 어떤 컴퓨터에서 나오는 디지털 시그널이 케이블을 타고 가면서 이제 여러 잡음 성분 때문에 그 크기가 낮아지게 됩니다.
크기가 이렇게 쪼그라들게 되죠. 근데 쪼그라들게 돼서 이제 여기 500m까지는 보장을 한다.
이게 이제 넘어서면 이제 내가 1이라는 신호를 보냈을 때 이제 1일로 인식을 못할 수도 있다라는 뜻이 됩니다.
물론 이제 500m가 아니라 600m 가게 할 수도 있죠.
왜냐하면 여기서 이제 시그널을 세게 쏘면 우리가 이제 목소리를 크게 지르면 신호가 멀리 가듯이 여기서 파워를 세게 해서 전압을 많이 사용하면서 파워를 세게 해서 디지털 신호를 확 높여서 보내게 되면 또 멀리 가겠죠.

04:00
근데 이제 그렇게 하게 되면 전력 소모가 많게 되니까 이제 우리가 이제 약속을 하는 거죠.
프로토콜에서 이제 이선의 텐베이스 5에서는 500m까지만 가도록 그렇게 하자 이렇게 약속을 하는 겁니다.
약속을 했는데 이제 최대 2500m까지 가능하니까 이게 케이블의 길이를 2500m까지 이제 가져가려고 하면 500m의 끝자락에 이제 장치를 하나 달아서 장치를 달아서 이게 이제 다 이렇게 시들시들한 디지털 신호가 들어오게 되면 이 리피터에서 다시 리피팅을 하는 겁니다.
깨끗한 1이라는 신호를 만드는 거죠. 그럼 이제 처음 출발했던 크기로 쏘게 되니까 다시 또 이렇게 500m를 갈 수 있는 겁니다.
또 리피터를 달면 또 500m 또 리피터를 달면 500m 계속 이렇게 지구 한 바퀴 다 돌 수도 있는데 csm의 CD 프로토콜의 리미트 때문에 2500m까지만 할 수 있다라고 하는 거죠.

04:59
그래서 이 리피터의 역할은 이게 얘가 이렇게 있다가 이쪽에서 들어오는 이쪽에서 들어오는 신호가 다 찌그러져가는 신호가 들어왔는데 이제 내가 영으로 인식했어요.
그러면 깨끗한 영으로 만들어 버립니다. 그러니까 이제 이건 무슨 뜻이냐 하면 이제 원래 송신 측에서 보낸 신호가 1이었느냐 0이었느냐라는 건 구분 안 하고 내가 지금 판단에 1로 판단하면 깨끗한 1로 보내고 0으로 판단하면 0으로 보내는 겁니다.
이제 그거는 이제 원 신호가 무엇이냐라는 거를 체크해보지 않는다라는 뜻이죠.

05:35
그래서

05:36
이런 장비가 바로 이제 리피터라는 장비다라는 겁니다.
그래서 얘는 레이어 원에 해당되는 기능을 하는 장치다 라고 하는 거죠.
왜냐하면 레이어 원에 하는 역할은 피지컬리에서 하는 역할은 이제 신호를 생성하는 데에 목적이 있는 거지 에라 검출을 하고 복구를 하는 역할은 없다 없기 때문에 이제 물리계층에 해당되는 장치를 사용하면 똑같이 이런 기능을 하게 된다라는 거죠.
그래서 리피터가 하는 역할은 아주 단순합니다. 다 찌그러져가는 신호가 들어오게 되면 깨끗한 신호로 리제너레이트 하는 그런 역할만 하는 게 리피터의 역할이다라는 거죠.
그래서 인터넷 찾아보면은 이렇게 USB 케이블 리피팅하는 것도 있습니다usb 케이블이 긴 게 있고 짧은 게 있잖아요.
이제 이게 케이블의 길이를 더 멀리 가게 하려면은 이제 신호를 다시 생산해서 보내야 되니까 리제너레이트 해야 되니까 이런 장치를 써서 길게 보낼 수도 있습니다.

06:43
그다음에 이제 와이파이 리피팅 하는 것들도 있죠.
이게 이제 이런 게 집에서 이제 어떤 와이파이 신호를 갖다가 내가 집에 잘 도달하지 않으면 이제 문 쪽에다가 이거를 붙여놓게 되면 저쪽 공유기에서 들어온 와이파이 신호가 여기서 더 강하게 신호를 만들어내서 이렇게 보내는 겁니다.
이렇게 보내는 그래서 이 이런 와이파이 리피터도 있습니다.
이게 제가 아마존에서 서치하니까 나오던데요. 이게 이제 리피터입니다.
리피터 여기 보면 잘 보일지 모르겠는데 와이어리스 인터넷 리피터 이렇게 써 있습니다.
근데 얘는 이제 lr을 검출하고 복구하는 기능은 없는 거죠.
없는 겁니다. 또 이런 것들도 있어요. 아트 정보통신 11번가에 들어가 봤더니 여기에도 300메가 와이파이 무선 거리 연장기라고 해가지고 리피터 이런 말들이 나옵니다.
이게 다 그런 역할을 하는 것들이에요. 신호를

07:40
재생산해서 보내주는 거 그래서 이제 지하에 호프집 이런 데 가면 문 쪽에 뭐가 이렇게 붙어 있거든요.
유플러스 SK KT 이런 거 붙어 있어요. 그게 문 입구에서 우리 무선 신호 받아서 지하로 다시 쏴주는 겁니다.
요즘엔 지하에 다 그래서 전화 다 되죠. 그렇죠 예전에는 이제 지하 주차장 가면 전화 같은 건 잘 안 됐는데 지금은 이제 다 되게 되어 있습니다.
이런 게 리피터입니다. 이런 게 이런 게 리피터 이런 리피팅하는 장치 리피터 역할만 하는 장치가 허브입니다.
허브 허브 허브라고 하는 여러분 이제 csmcd 우리 프로토콜 얘기를 할 때 텐베이스 t 100베이스 티 이렇게 얘기했던 그 t가 이제 허브를 사용을 하는 건데 걔네들이 이 허브가 그런 리피팅 역할만 합니다.
그래서 예를 들면 a라는 애에서 csmlcd로 캐리어 센스에서 데이터를 이렇게 쭉 보내잖아요.
그럼 이게 이제 케이블의 길이가 utp 케이블의 길이가 100m까지다 이렇게 돼 있어요.
근데 그 이유는

08:44
여기서 나온 신호가 100m까지 가는 것만 보장을 해주는 겁니다.
이제 그거보다 멀게 되면 이 중간에 정말 리피터를 이렇게 달아야 되죠.
유선 리피터를 달아야 되는 거죠. 근데 이제 100m를 갔다 그러면 또 100m 가야 되잖아요.
그렇죠. 또 100m를 갈 수 있는 이유는 이 허브라는 데에서 자기가 받은 디지털 신호를 그대로 쏴주기 때문에 그래요.
이렇게 다시 리제너레이터 하기 때문에 그렇습니다.
근데 이제 원 신호가 1이었느냐 0이었느냐라는 건 체크를 안 해요.
그래서 이제 받은 대로 자기가 판단해서 쏘는 것뿐입니다.
그러면 이제 여기도 받고 여기도 받고 여기도 받고 이렇게 다 받는 거죠.
그러니까 얘는 이게 박스처럼 생기긴 했지만 리피팅하는 역할밖에 없는 거죠.
리피팅하는 역할이 그래서 그런 장치가 이제 피지컬 레이어에 해당되는 장치입니다.
피지컬 레이어에 해당되는 장치의 특징은 원 신호 원래 보냈던 신호가

09:41
1이었는지 0이었는지 즉 에러가 있는지 없는지를 확인하지 않는다.
확인하지 않는다. 그냥 그대로 정말 보내기만 한다 라는 겁니다.
그래서 얘는 노 필터링 케이퍼빌리티 허브나 허브나 또는 리피터는 헤즈노 필터링 케이퍼빌리티 이제 에러가 있으면 뭐 이렇게 끊고

10:06
에라가

10:09
없으면 보내고 이런 거 안 한다 이거죠.

10:11
이런 말 안 한다.

10:13
그다음에 이제 나오는 게 이제 렌에서도 얘기했지만 이제 스위치죠.
스위치 이제 l2 스위치 이렇게 쓰는 거는 레이어 2 링크 계층까지 있는 스위치입니다.
링크 계층에서의 가장 중요한 기능은 에러 컨트롤이거든요.
그래서 이제 에러가 있느냐라는 거를 확인하고 에러가 있으면 복구하는 이런 행동들을 이제 레이어 2에서 하게 됩니다.
이런 기능을 갖는 허브를 l2 스위치라고 부릅니다.
허브랑 똑같이 생겼어요. 근데 이제 소프트웨어 로직이 들어가 있는 겁니다.
그래서 얘는 피지컬 레이어도 제공을 하고 즉 신호도 리피팅을 하고 데이터 링크 레이어도 갖고 있다.
그러니까 에러 컨트롤하는 기능도 갖고 있다. 이제 스위치의 가장 큰 기능은 필터링 케이퍼빌리티 보내고 안 보내고 좋은 것만 보내고 이렇게 할 수가 있다.
그래서 얘가 하는 거는 우리 이제 스위치에서 얘기한 것처럼 목적지 데스티네이션 어드레스를 체크를 해서 이쪽 포트로 쏴야 될지 안 쏴야 될지를

11:13
얘가 체크를 한다 그걸 이제 필터링이라고 부르는 겁니다.
그래서 이제 스위치는 보통 테이블을 갖고 있어서 이 테이블에 기초해서 필터링을 하게 된다라는 겁니다.
이제 이 테이블에 뭐가 들어가 있느냐 이제 포트하고 맥 어드레스 그 쌍에 그 페어에 테이블이 이렇게 갖춰져 있는 겁니다.
그래서 l2 스위치의 가장 큰 특징은 이런 필터링 케이퍼빌리티가 있는데 이것도 이제 제가 네이버 검색을 하니까 삼성 스위치더라고요.
삼성 스위치인데 모델명은 is 4,052 XP 이렇게 돼 있는데 이게 이렇게 생겼어요.
이게 허브도 이거랑 똑같이 생겼습니다. 허브도 똑같이 생겼고 이렇게 rj45 연결하는 포트들이 이렇게 쭉 있죠.
근데 이제 여기 설명 중에 이런 게 나옵니다. l2하고 슬래시하고 l3 스위치 이렇게 나와요.
얘는 이제 l2 스위치 기능도 하고 l3 스위치 기능도 한다 라는 얘기가 되는 겁니다.
그럼 이제 원래 이런 허브였는데 이런 허브였는데 여기에다가 이제 OS를 깔고

12:24
OS 안드로이드나 이런 OS 깔아놓고 이제 안드로이드니까 이제 리눅스 같은 걸 거 아니에요? 여기 깔아놓고 이제 c로 코딩을 하는 겁니다.
그래서 이제 1번 포트에서 들어오는 거에 맥어드레스 이렇게 보고 이제 테이블 안에 만들어서 집어넣고 이런 거 코딩 그대로 다 하는 겁니다.
그래서 여러분이 삼성 가서 이런 네트워크 장비 개발하는 데 가면은 이런 거 이제 코딩하고 있는 거죠.

12:47
코딩하는 겁니다.

12:49
그래서 여기서 이제 l2 기능까지만 하는 그런 스위치

12:54
입니다.

12:55
그래서 이렇게 테이블이 있어요. 이 l2 스위치는 l2 스위치는 이렇게 테이블이 있습니다.
그래서 맥어드레스가 있고 포트 번호가 있습니다.

13:04
그래서

13:04
요 맥어드레스 71 eb 1 3 4 5 6 1 4일은 일본 포트에 있다.
그러니까 여기 여기 이렇게 컴퓨터들이 이렇게 있잖아요.
이제 그러면은 이제 여기 얘는 1번 포트에 있다. 얘는 2번 포트에 있다.
얘는 3번 포트에 있다. 얘는 4번 포트에 있다. 이렇게 이 테이블 이렇게 갖고 있다 이거죠.
그래서 얘가 이제 이선의 프레임을 보내는데 목적지 주소가 이렇게 송신자 주소 얘 목적지 주소 얘 이렇게 나오면 이걸 이렇게 쭉 보낼 거 아니에요 그럼 이제 요 l2 스위치에서 프레임이 쭉 들어오면 제일 앞에 목적지 주소가 있잖아요.
그죠? 그 6바이트 목적지 주소를 딱 가져와서 이제 자기가 갖고 있는 이 테이블에서 비교해 보는 거죠.
이제 이렇게 이걸 찾아봅니다. 이 목적 지수를 찾아보니까 포트 2번 포트에 있네 이렇게 되는 거죠.
그러면 어디로 쏜다 다른 데는 안 쏘고 3번 포트나 4번 포트를 안 쏘고 여기로만 딱 쏴주는 겁니다.
여기 여기 이게 이게 이제 필터링

14:00
케이퍼빌리티가 되는 거죠. 이렇게 그러니까 이 로직을 짜는 게 네트워크 프로그래머들이 짜는 겁니다.
근데 여기 없으면 어떡하지 없으면 이렇게 쫙 들어왔어요.
근데 l2 스위치에서 이제 목적지 23의 어드레스를 딱 잡고서 이제 서치를 합니다.
여러분이 그 자료 구조에서 배웠던 그런 서치 바이너리 서치를 하건 서치를 합니다.
근데 없어요. 그거 없으면 어떡하죠? 없으면 없으면 어떡하지 없으면 어떡할 거 같아

14:41
10억 몰라 그리고 10억 개발자라면 어떻게 할 것 같아 개발자라면 어떻게 할 것 같아 그렇지 없으면 없으면 이 테이블이 없으면 다른 데로 다 보냅니다.
안 보내면 안 되죠. 이거 씹으면 안 보내면 안 되죠.
왜냐하면 모르는 그러니까 다섯 번째 여기 포트가 4개 있는 게 아니라 많을 거 아니에요? 다섯 번째 포트를 컴퓨터롤 딱 끼면 얘는 새로이 들어왔잖아요.
근데 얘가 이제 보내게 되면 모르잖아요. 어디 있는지 어디 있는지 모르니까 다 쏘는 거죠.
다 쏘게 되면 결국에는 이 테이블에 없게 되면 결국에는 일반 허브나 l2 스위치나 똑같이 동작을 하는 겁니다.
그렇죠 그렇잖아요. 그죠? 이게 이게 없는 거나 마찬가지가 되니까 그래서 이제 그런 해킹 공격이 있습니다.

15:53
콜 시그널이 전화하지 맙니다.

16:02
전화하지 말랬는데 자꾸 전화해

16:08
이거 누가 불렀는지 알아요. 옛날 노래라서 모르는 거구나.
난 이 노래 듣자마자 아 나 별소리를 해야 되겠다 그러고 이걸로 뱃소리를 할 수 있다.

16:24
이게 트랜스페런트 스위치 우리 말로 투명 스위치라 하는데 투명 스위치라고 말하는 사람 아무도 없습니다.
그냥 다 l2 l3 스위치들은 다 트랜스페어런트 스위치입니다.
근데 왜 투명 스위치라고 얘기를 하냐 하면 몇 번 포트에 뭐가 있다라는 거를 관리자가 항상 이렇게 입력을 하면 얼마나 그게 귀찮은 일이에요.
그렇게 할 수도 없어요. 왜냐하면 포트를 여기 꼈다 저기 꼈다 막 왔다 갔다 하는데 그걸 이렇게 1번 포트에 메거드레스 뭐 있다 이렇게 어떻게 입력해요? 그렇게 못합니다.
그러니까 못하니까 어떻게 그러면 이제 우리가 구현을 할 거냐 이제 학습을 합니다.
학습 스위치가 러닝을 합니다. 러닝 그래서 사용자가 임의로 입력을 하는 게 아니라 학습에 의해서 자기가 몇 번 포트에 어떤 컴퓨터가 있다 이렇게 알기 때문에 트랜스페어런트 스위치라고 부른 겁니다.
투명하다. 내가 굳이 뭐 이렇게 입력 안 해도 자기가 알아서 이렇게 한다.

17:31
그래서 스테이션은 완전히 이제 스위치가 있는지 없는지 모른다라고 해서 이제 투명 스위치라고 한다.
그래서 리컴프레이션 오브 더 스테이션스 그러니까 재구성할 필요가 없다라는 거죠.
그래서 이거와 관련된 표준은 802.1t의 1d에 있다 라는 거죠.
여기에 이제 스펙에 보게 되면 802.1 d에 스위치가 가져야 되는 세 가지 기준이 있는데 하나는 프레임은 반드시 전달돼야 된다.
그러니까 이렇게 씹으면 안 되고 무조건 전달해야 된다라는 거고, 두 번째 기준은 오토메티컬리 메이드 돼야 된다.
테이블이 스위칭 테이블이 메이드 돼야 된다. 뭐로 바일 러닝에 의해서 학습에 의해서 이제 테이블이 만들어져야 된다.
세 번째는 루프가 만들어지면 안 된다. 이 세 가지가 802.1d에 나와 있는 세 가지 기준입니다.
스위치의 러닝이라는 건 어떻게 하느냐 스테틱 테이블 매뉴얼리 엔터 하는 거 안 된다.
그러니까 이제 다이나믹하게 만들어야 된다. 어떻게 이제 스위치나

18:39
이런 장치 브리치나 이런 브리치는 좀 이따 설명할게요.
이런 장치들이 목적지 주소와 송신자 주소를 인스펙션 조사해 보면 알 수 있다.
몇 번 포트에 뭐가 있는지

18:51
알 수 있다

18:52
라는 겁니다. 러닝을 어떻게 하느냐 이제 책에도 이렇게 나와 있는데 이런 겁니다.
처음에는 이렇게 비어 있죠. 오리지널 스위칭 테이블이 처음에 얘 껐다 키잖아요.
까딱히 이게 이게 이렇게 비어 있습니다. 이제 비어 있으면 이제 FTA 센서 프레임 2d a라는 애가 저 d한테 이제 프레임을 보냅니다.
그러면 이제 송신자 맥어드레스 얘 목적지 매거드라스 저 재 이렇게 되겠죠.
그럼 이제 얘가 이렇게 프레임이 쭉 갑니다. 이렇게 쫙 1번 포트로 딱 들어가죠.
이 순간 이제 스위치는 학습이 되죠. 이제 목적지 주소와 송신자 주소가 있으니까 송신자 주소가 여기 딱 캐치가 되죠.
1번 포트에 얘 있구나 이렇게 캐치가 딱 되는 겁니다.
그래서 여기 이제 등록을 합니다. 요 메고 어드레스에는 일본 보에 있다 이렇게 등록을 해요.
근데 목적지 어드레스를 보니까 지금 테이블이 없잖아요.
그죠? 없으니까 어떻게 해요?

19:49
다 쏩니다. 2번으로도 쏘고 3번으로도 쏘고 4번으로도 쏘고 다 쏩니다.
어딘지 모르니까 이제 이거는 일반 허브랑 똑같이 동작하는 거죠.
이제 그러고 있다가 좀 있으면 어떻게 되겠어요? 이제 d라는 애가 또 이렇게 보낼 수 있겠죠.
이제 여기서 가정은 c처럼 FT d 센서 프레임 2d d가 이제 b한테 이제 보내는 겁니다.
이렇게 d가 보내면 또 송신자 어드레스가 나타나잖아요.
그렇죠 그럼 이제 여기에 이제 등록이 딱 되는 거죠.
메거드레스 얘는 4번 포트에 있다 이렇게 그러니까 이제 트래픽이 발생할 때마다 어떻게 된다 이 테이블에 이제 자꾸 등록이 되는 겁니다.
발생할 때마다 그리고 이제 트래픽이 발생할 때마다 이제 자꾸 등록이 되죠.
이게 이제 학습을 한다는 얘기입니다.

20:34
학습

20:35
하고 이게 다 만들어지게 되면 이때부터는 이제 이제 다른 데로 다 쏘는 게 없죠.
이제 항상 요 맥어드레스는 이제 1번에 있다. 요 맥어드레스는 몇 번에 있다라는 게 등록이 돼 있으니까 근데 저거를 계속 가져갈 수 있을까요? 테이블이 저렇게 만들어지게 되면 가져갈 수가 없죠.
왜냐하면 이제 이 노트북 빼다가 다른 데 또 이렇게 연결할 수도 있고 어떤 PC에 랭카드가 바뀔 수도 있고 랭카드가 바뀌면 메거 드레스가 바뀌게 되니까 이제 그런 현상들이 일어나기 때문에 이 테이블을 유지할 수가 없습니다.
유지할 수가 없어요. 그래서 이 테이블을 즉 요 매거드레스 테이블 스위칭 테이블 요 자체를 주기적으로 클리어시킵니다.
그래서 이제 전체를 클리어할 수도 있지만 대부분 요 엔트리별로 타이머가 돌아갑니다.
이제 이게 지금 등록된 지 얼마나 됐다 라는 타이머가 이렇게 돌아가고 이제 트래픽이 왔다 갔다 할 때마다 이게 리플레시 되는 거고 만약에 이제 트래픽이 없어지면 어떻게 돼요?

21:37
없어지면 이제 클리어 돼버리는 거죠. 이게 엔트리가 날아가는 겁니다.
그래서 이 테이블의 사이즈는 이 스위치의 메모리 사이즈가 됩니다.
메모리 사이즈 얘도 이제 메모리가 필요하겠죠. 요거 요거 갖고 있어야 되니까 그래서 이 메모리가 크면 클수록 메모리가 크면 클수록 이제 많은 어드레스를 여기에 저장할 수 있게 되는 거고 이게 작으면 작을수록 빨리빨리 날려줘야죠.
이렇게 빨리빨리 날려줘야죠.

22:05
그래서

22:06
이제 이거를 이제 사용을 해서 이게 이제 학습하는 이제 그런 구조가 된다라는 겁니다.
그래서 그러면 이걸 이제 어느 주기로 이거를 그럼 업데이트할 거냐라는 거는 개발자 마음입니다.
개발자 마음 그래서 PC는 조금 길고요. 이런 이제 스위치들은 조금 짧고 PC가 한 20~30분 그 정도 되는 것 같아요.
그래서 이제 네트워크 엔지니어들은 스위치에 접근이 가능하니까 어드민 계정이 있거든요.
루트 계정이 있어요. 그래서 여기 이렇게 딱 들어가서 보면 누구누구 출근했구나라는 걸 쫙 알게 되죠.
출근하면 컴퓨터 키면은 트래픽 왔다 갔다 할 거 아니에요 그럼 이제 누가 출국을 했는지 우리 교장 선생님 아직 안 오셨네 뭐 이런 거를 금방 알 수가 있죠.
이걸 가지고 알 수 있습니다. 그래서 이제 저거를 가지고 이제 수사에서도 사용을 합니다.
과학수사 포렌식 디지털 포렌식 이런 데서도 이제 난 거기 간 적 없어 이렇게 하기가 나 그때 출근 안 했어 이렇게 하기가 어렵죠.
이걸 스냅샷을 떠놓으면

23:16
여기 딱

23:17
이게 잡히게 되니까 여러분이 이제 스마트폰 사용해서 와이파이 접속을 하잖아요.
와이파이 접속하면 요즘 학교에 접속해 있잖아요.
그러면 이게 여기 어딘가 등록이 돼 있겠죠?

23:29
네

23:30
그럼 여러분이 여기 왔다는 게 증명이 되는 겁니다.
그렇죠 여러분 등록이 다 이렇게 여러분이 옮겨갈 때마다 와이파이 사용하면 와이파이에 등록이 쫙쫙쫙쫙쫙 돼 있습니다.

23:46
그다음에 이제 학습도 해야 되고 이제 세 번째 기준이 뭐냐 하면 루프가 생기면 안 된다 라고 했습니다.
루프 프라블럼이라고 하는 것은 어떤 때 생기냐 하면 이제 스위치가 하나만 있으면 고장이 나면 네트워크이 다 안 되니까 폴트 털러런스를 위해서 폴트 털러런스를 위해서 리던던트한 스위치들을 배치를 하게 됩니다.
이건 서버가 쫙 클라우드 서버들이 잔뜩 있으니까 여기 스위치 하나가 망가지면 클라우드가 완전히 박살 날 거 아니에요 그러니까 이제 스위치를 여러 개 둬서 하나 고장 나도 쓸 수 있게 이렇게 한단 말이에요.
이제 그렇게 하다 보니까 리던던시를 부과를 하게 되니까 이제 루프가 생기게 됩니다.
그래서 이제 그 루프를 해결하기 위해서 그건 이제 필요하잖아요.
그죠 장비를 여러 대 두는 거는 필요합니다. 근데 이제 필요한데 이게 이제 문제가 발생하기 때문에 이 문제를 해결하기 위해서

24:43
어

24:44
이 스위치에는 이제 스페닝 트리 알고리즘을 동작을 시킵니다.
스페닝 트리 알고리즘을 동작을 시켜서 물리적으로는 루프가 있지만 논리적으로 루프가 없도록 그렇게 만듭니다.
그래서 이 스페닝트리 알고리즘은 여러분이 그 자료 구조 시간에 나오는 프림즈 메소드 크로스칼 메소드 이런 거 있죠 이제 그런 거 써서 논리적으로 루프를 제거를 합니다.
제거를 해서 통신하도록 돼 있습니다. 그러니까 여러분이 배웠던 거 그대로 다 다 실제로 사용이 되고 있는 겁니다.
그러면 루프가 왜 문제가 되느냐 라는 거를 이제 책에서 예를 설명을 하고 있는데요.
이런 겁니다. 이렇게 이쪽에 이쪽에 이제 허브가 있고 이쪽에 이제 허브가 있어요.
그래서 얘 둘 사이에 이렇게 그 스위치가 하나만 있다면 아무 문제가 없을 텐데 혹시 이제 이 스위치가 망가져서 이쪽하고 이쪽하고 서로 통신이 안 될까 봐 스위치를 하나 이렇게 중복해서 두는 거죠.
그래서 이렇게 두 개를 두게 되면 이제 우리가 이런 루프가 루프가 생기게

25:51
되는 거죠. 루프가 생기면 우리가 이제 기존의 인터넷의 동작 과정을 보게 되면 그대로 이제 문제가 생깁니다.
여기 이제 abc df가 이제 맥어드레스라고 가정을 하고 a에서 d로 이제 프레임을 보낸다라고 하게 되면 이제 저렇게 나타날 거 아니에요 그래서 a에서 d로 보낸다 이렇게 나타나게 되면 여기서 연결된 포트가 얘는 학습이 지금 안 돼 있고 그러니까 양쪽 포트로 이제 다 이렇게 쏘게 됩니다.
그럼 이제 이쪽 스위치에서는 이쪽 스위치에서는 이쪽이 1번 포트고 여기가 2번 포트인데 이 테이블에 이렇게 등록이 아마 될 겁니다.
저 a라는 애는 어드레스 a라는 애는 1번 포트에 있구나 이렇게 등록이 되고 요 스위치에도 이 스위치에도 요 테이블에 학습을 하니까 1번 포트에는 a라는 애가 있구나 이렇게 등록이 될 거다 라는 거죠.
그러니까 양쪽 다 스위치의 이런 식으로

26:50
a라는 애는 1번 포트에 있다. 저쪽 스위치에도 a라는 애는 1번 포트에 있다 이렇게 등록이 되죠.
근데 여기서는 이제 목적지 d가 어디 있는지를 모르기 때문에 이제 이쪽 라인으로 이렇게 쏘게 되죠.
이쪽 라인으로 쏘게 되면 이 허브는 여기로도 보내고 여기로도 보내고 여기로도 보내고 여기로도 보내고 이렇게 보내겠죠.

27:12
이렇게 보냅니다.

27:13
근데 여기로도 보낸다는 얘기는 얘가 보내는 게 이렇게 간다는 얘기가 되죠.
이렇게 그럼 이제 이 스위치 입장에서 보게 되면 a가 1번 포트에 있었는데 a가 2번 포트에서 나타나네.
트래픽이 그럼 이제 이쪽으로 옮겨왔나 이렇게 생각하고 이 테이블을 업데이트합니다.
a라는 애가 2번 포트에 있다 이렇게 업데이트를 해요.
그럼 여기서도 또 이제 메시지가 올 거 아니에요 프레임이 올 거 아니에요 이제 여기 아까 왔던 거 아니고 이제 이쪽으로 얘가 이렇게 또 보냅니다.
그럼 얘도 얘는 이건 아까랑 똑같다는 거 구분을 못해요.
구분할 방법이 없기 때문에 못합니다. 못하니까 이제 얘는 이쪽 포트로도 쏘고 이쪽 포트로도 쏘고 이쪽 포트로도 쏘고 이쪽 포트로도 쏘고 그러면 이제 d라는 애는 중복해서 봤죠.
두 개의 카피를 중복해서 받게 됩니다. 근데 이제 얘가 보낸 걸 또 이리 쏘게 되니까 얘는 테이블에 이렇게 등록이 돼 있다가 a라는 애가 이쪽으로 옮겨갔나 하고 이걸 또 업데이트합니다.

28:10
a라는 애가 포트 2번에 있다. 왜냐하면 학습은 송신자가 어디에서 나타났느냐라는 걸 가지고서 학습을 하기 때문에 이제 그렇게 되는 거죠.
그래서 이렇게 바뀐단 말이에요. 이렇게 이렇게 이렇게 바뀐단 말이에요.
근데 얘는 또 이제 d가 어디 있는지 아직 모르니까 d가 있는지 모르기 때문에 해당되는 프레임을 또 얘로 받은 예로부터 받은 프레임을 또 이쪽으로 또 쏴버립니다.
이렇게 이렇게 싸우면 또 이렇게 가고 이렇게 가고 이렇게 가고 이렇게 또 가죠.
이렇게 그럼 이제 얘가 받으면

28:43
어

28:43
a가 또 1번으로 갔나 하고 이걸 또 바꿔요. 1번으로 또 바꿉니다.
그러니까 얘가 보낸 건 또 이렇게 해서 이렇게 와가지고 이쪽이 또 1번으로 또 바꿉니다.
또 바꾸면 또 일이 또 쏘죠. 일을 또 쏘고 계속 돕니다.
계속 이렇게 계속 돕니다. 계속 계속 돌아갑니다.
이렇게 1번으로 갔다 2번으로 갔다. 1번으로 갔다 2번으로 갔다.
이걸 로직 그대로 쓴다라고 하면 이 루프가 생기게 되면 이렇게 문제가 생기게 된다라는 거죠.
그래서 이걸 해결을 해야 될 거 아니에요? 이제 해결을 하기 위해서 이제 스펠링 트 알고리즘을 동작을 시킵니다.
이제 이건 이제 사이클이 없는 이제 틀이죠. 그러니까 그래프에서 그래프에서 우리가 이제 스페닝 트리 알고리즘을 동작시키게 되면 그 그래프를 스페닝 트리로 만들어주게 되죠.
그 알고리즘에 따라서 이제 스페닝 트리로 만들게 되면 이제 사이클이 없는 사이클이 없는 트리를 만들 수가 있게 됩니다.
이거를 이제 그 스위치들이

29:48
l2 스위치들이 알고리즘을 동작을 시키는 겁니다.
그래서 이제 책에 이렇게 하고 이렇게 하고 이렇게 하고 나와 있는데 여러분이 그 자료 구조에 동작하는 알고리즘 그대로 생각하면 됩니다.
예를 들면 이제 이런 식으로 그림이 있다 이렇게 네트워크이 구성이 돼 있다 이렇게 네트워크이 구성이 돼 있다.
이게 이제 스위치고 이거는 이제 스위치고 이건 이제 렌이고 일반 허브라고 가정을 하게 되면 그러면 이제 이렇게 그릴 수가 있죠.
이렇게 그래프로 이렇게 표현할 수가 있습니다. 그래서 스위치에서 1번 스위치에서 렌으로 가는 코스트가 1이고 이쪽 랜으로 가는 코스트가 1이고 이 r에서 다른 곳으로 가는 코스트는 빠져나가는 코스트는 0으로 이렇게 카운트를 합니다.
0으로 이렇게 표시를 합니다. 그리고 나서 이제 스페닝 트리를 만들어보는 거죠.
그래서 이제 결과적으로 만들어진 스페닝 트리는 요 요 구조가 되는데 간단합니다.
여기 s1에서 이제 가장 이쪽으로 가는 거

30:53
이쪽으로 가는 거 구분하면 이게 이제 코스트가 1이고 코스트가 1이 되죠.
그럼 이제 l1하고 r2는 확정 확정이 되고 편입된 노드에서 나가는 코스트가 0이고 여기서 나가는 코스트가 0 여기서 나가는 코스트가 0 이렇게 돼 있죠.
이제 둘 중에 하나를 선택을 하면 돼요. 그러면 뭐 자료 구조에서 아무거나 선택하죠.
여기로 나가는 코스트도 0이고 여기도 0이고 여기도 0이니까 어떤 걸 선택해도 상관없는데 이제 위에 걸 선택을 해봅시다.
해보면 여기 이제 확정 s2까지 이렇게 확정을 하는 거죠.
확정을 하고 그다음에 이제 s2에서 연결된 게 이 l3니까 여기로 가는 코스트가 1이 또 있네요.
그러니까 이제 s1에서 r1에서 s2에서 l3로 가는 코스트는 2가 되고 여기서 여기로 가는 거는 1 여기서 여기로 가는 건 1이니까 이제 싼 거를 고르면 됩니다.
그럼 이제 s3를 골라도 되고 s4를 골라도 되고

31:52
3를 선택을 해보죠. 두 개의 코스트가 동일하니까 얘를 선택을 하고 그다음에 얘가 연결된 노드가 이쪽 노드가 있고 이쪽 노드가 이렇게 있죠.
그러면 이제 코스트 따져보죠. 1 여기까지 하면 2가 되고 이렇게 가면은 1 1 하면 여기도 2가 되고 여기로 가면 1이죠.
그러면 이게 제일 싸니까 s4를 선택 그래서 s4하고 연결된 게 이거 하나 이렇게 이거 하나 그러면 이제 이렇게 가면은 2 이렇게 가도 2 이렇게 가도 2 3개 코스트가 다 동일하니까 또 하나를 선택하면 되죠.
근데 이거대로 나오게 하려면 이걸 선택해 위에 거 선택해도 돼요.
아무거나 선택해도 되기 때문에 이거대로 선택을 하면은 여기 이제 이걸 선택을 해야 되겠네 그죠 요거 요거 요게 나와야 되니까 그럼 이제 이게 1 그다음에 여기 1 하면 2고 여기랑 연결된 게 여기하고 이렇게 있네.
이렇게 이렇게 이제 연결된 코스트를 보게 되면 10 1 하니까 2가 되고 여기서 1 0 1 하니까 2가 되고 그다음에 1 1

33:07
0 하니까 여기도 2가 되네요. 아무거나 또 이제 선택을 해도 됩니다.
이거대로 한다면 여기서 이렇게 선택해도 되는데 우리는 이제 요 얘대로 나오려고 하면은 이 위에 걸로 선택한 걸로 하죠.
이렇게 이걸 선택하는 걸로 하죠. 그러면 얘에서 연결된 거를 보게 되면 이렇게 연결되는 게 있고 이렇게 연결되는 게 다 0이네.
그러면 이제 여기에서 이렇게 연결될 수도 있고 여기에서 이렇게는 안 되죠.
이렇게 하면 이제 루프가 생기니까 여기는 안 되고 이렇게 해서 여기로도 루프 되니까 안 되고 여기에서 이렇게 연결하거나 이렇게 해야 되겠네.
그러면 위에서 이렇게 선택하는 걸로 가도 됩니다.
코스트가 동일하니까 근데 이제 이 밑으로 책이 얘는 이 밑으로 돼 있으니까 이 밑으로 가는 걸로 선택을 이걸 확정하게 되면 이런 그림이 되죠.
그럼 이제 여기는 이제 선택될 수가 없어서 여기 이제 블라킹 포트 여기에 이제 실제로 포트는 존재하지만 연결을 안 하는 거고 여기도 이제 블라킹 포트 이렇게

34:08
이거 하는 거죠.

34:09
그래서 그 책에 있는 그림처럼 이렇게 이 밑에 이 스페닝 트리가 만들어지게 되는 겁니다.
그러니까 물리적으로는 연결이 다 돼 있지만 논리적으로 연결을 해서 3라고 하는 스위치에서는 포트가 위로 연결되는 것도 있고 옆으로 연결되는 것도 있지만 이 포트들은 전부 다 트래픽이 안 흘러가게 이렇게 막아놓는 겁니다.
이렇게 그래서 소프트웨어적으로 이렇게 막아놓는 거죠.
이렇게 하면 이제 루프가 발생하지 않으니까 아까와 같은 그런 현상이 일어나지 않는다 라고 이야기를 하는 겁니다.

34:45
그래서

34:46
어떤 저기 자격증이나 어떤 시험 문제에서 이제 브리지나 아니면 이 l2 스위치에서 스페닝 트 알고리즘을 많이 사용되는 거기 때문에 이게 딱 나오면 이게 네트워크 문제라고 보지 말고 자료 구조처럼 풀면 됩니다.
자료 구조처럼 풀면 그냥 일반적으로 풀리는 거니까 그대로 풀면 됩니다.
그리고 여기서는 이게 책에 있는 거는 요 그림대로 이렇게 요것만 정답이 아니라 정답이 여러 개 나올 수 있어요.
왜냐하면 코스트가 같은 게 있기 때문에 여러 개 나올 수 있습니다.
그래서 그건 틀린 게 아니다 이건 이제 한 예만 보여주는 거니까 틀린 게 아니다 라는 것만 여러분이 확신하시면 됩니다.
그래서 결과적으로 이제 책에도 그림 6.8에 보게 되면 이제 포워딩 블라킹 포트 그러니까 논리적으로 블록킹을 하는 거죠.
이렇게 설정을 해서 트래픽이 안 흘러가도록 이거는 이제 그 스위치들이 서로 커뮤니케이션해서

35:50
이게 블라킹 포트 포워딩 포트를 설정을 하는 겁니다.
사용자가 개입하는 게 아니라 스페닝 트 알고리즘이 동작을 해서 이렇게 만들어준다

36:01
라는 겁니다.

36:03
스위치를 쓰게 되면 스위치를 쓰게 되면 장점이 뭐냐 충돌을 없앨 수 있다.
왜냐하면 아까 얘기했지만 이 테이블에 따라서 목적지 2선의 어드레스를 보고 맥어드레스를 보고 특정 포트로만 프레임을 전송을 하니까 내가 이렇게 그러니까 캐리어 센스를 했을 때 트래픽이 안 나타나잖아요.
그죠? 그래서 이제 소스가 데이터를 쏠 수가 있게 되죠.
그래서 충돌을 제거할 수 있다. 스위치를 쓰게 되면 그다음에 이제 두 번째는 l2 스위치를 쓰게 되면 서로 다른 장치들을 연결할 수가 있다.
그러니까 여기는 이제 광케이블을 사용하고 여기는 이제 utp 케이블 사용해도 서로 통신하는 데 문제가 없다라는 거죠.
왜냐하면 스위치에서 일단 받았다가 이쪽 포트로 데이터를 쏘기 때문에 여기는 전기적인 신호로 받았는데 이쪽 포트로는 광 신호로 쏠 수도 있는 겁니다.
그래서 서로 다른 피지컬 레이어

37:06
속도도 다르게 할 수가 있어요. 여기는 이제 10메가로 받았는데 이쪽 라인으로는 100메가로 쏜다 이런 게 되는 거죠.
여기는 기가로 쏜다. 왜냐하면 내가 받았다가 받았다가 신호를 쏘기 때문에 그런 게 가능한 겁니다.
그래서 서로 헤테로지니어스한 디바이스 꼭 동일한 걸 쓸 필요가 없고 서로 다른 이기종 장비들을 연결하는 데 사용할 수도 있다

37:32
라는 겁니다.

37:34
그다음에 이제 브리지라는 게 있었습니다. 이거는 이거는

37:42
이거는 여기 밑에 밑에 써놨지만 이 브릿지는 브릿지는 현재 사용하지 않습니다.
여러분이 그래서 회사나 학교나 이런 데 가서 볼 수 없습니다.
볼 수 없습니다. 이거는 근데 이제 이걸 설명하는 이유는 이제 썼었으니까 예전에 예전에 썼었으니까 이거는 l2 스위치랑 거의 동일합니다.
거의 동일한데 이거는 이제 개발상의 차이점인데 그런 겁니다.
이제 허브에서 스위치를 만든 거죠. 이제 허브라는 거를 허브라는 거는 레이어 원에 해당되는 장비니까 포트에서 트래픽이 들어오면 다른 포트로 다 쐈는데 그럴 게 아니라 이 허브에다가 OS 깔고 코딩을 좀 해가지고 이제 어드레스를 학습을 시키면 좋은 제품이 되겠네 라고 해서 만들어진 게 그게 이제 l2 스위치란 말이에요.
이제 그게 아니라 아예 아예 서로 다른 랜드를 서로 연결하는 장치로 그런 목적으로 아예 만든 장비가 있었어요.
허브에서 발전한 게 아니라 이제 그게 브리지입니다.
이제 브리지라는 통신 장비 네트워크 장비가 있었어요.
그래서

38:53
얘는 서로 다른 프로토콜 디퍼런트 프로토콜들을 사용하는 렌을 커넥트하는 장비로 브리지라는 게 있었습니다.
근데 이걸 설명하는 이유는 이렇게 여러분들이 이제 설명 그러니까 저기 어떤 자격증이나 이런 시험에서 불일치라는 용어가 나오기 때문에 그래요.
그래서 브리지라는 용어가 나오면 이게 이런 거구나 l2 스위치하고 개념적으로는 똑같다 그렇게 생각하면 됩니다.
근데 다른 건 l2 스위치는 허브에서 발전한 거고 얘는 별도로 만든 겁니다.
별도로 별도로

39:24
그래서

39:25
얘도 이제 트랜스페런트 브리지라는 게 있었고 이제 소스 라우팅 브리지라는 게 있었어요.
이제 소스 라우팅 브릿지는 아까 왜 l2 스위치에서는 루프를 해결하기 위해서 스페닝트리 알고리즘을 동작을 시켰잖아요.
이제 그러면 그게 이제 트랜스페런트 브리지입니다.
왜냐하면 얘네들이 이제 알고리즘이 탑재돼서 다른 브리치들하고 혹은 다른 스위치들하고 커뮤니케이션해서 스페닝 트리를 만드는 게 트랜스페런트 브리치 사용 관리자가 개입할 필요 없이 지들이 알아서 이렇게 만들게 되니까 그런 브리치가 되는 거고 소스 라우팅 브리치는 뭐냐 하면 프레임을 보낼 때 어디 어디 어디 거쳐가라고 지정을 하는 겁니다.
그럼 당연히 루프가 안 생기죠. 당연히 루프가 안 생기죠.
그래서 보낼 때 여기서 목적지 저기로 갈 때는 브릿지 어디 어디 어디 어디 거쳐서 가 이렇게 지정해 주는 겁니다.
지정해주는 그런 브릿지를 소스 라우팅 브리지라고 합니다.

40:25
그래서

40:26
소스 라우팅에서는 샌딩 스테이션이 정의를 하는데 뭘 정의하냐 하면 브릿지들을 정의합니다.
브릿지들의 리스트 정의를 하는 거죠. 그래서 그 프레임이 비지트 해야 할 방문해야 될 브리지들의 리스트를 송신 측에서 지정해서 가는 것 그게 소스 라우팅 브리치입니다.
근데 지금은 이제 사용하지 않는다 지금은 사용하지 않는다.
그런데 이제 네트워크 장비로 브리지라는 게 있기 때문에 이 얘기가 나오기 때문에 여러분은 알고 있는 게 좋겠다라는 겁니다.

41:01
그래서

41:02
넷기어라고 하는 그 회사가 있는데 이것도 우리나라에서 많이 팔리는 장치 중에 하나입니다.
얘가 이제 이렇게 브리지가 있으면 브리지가 이쪽 허브하고 이쪽 허브하고 이렇게 연결을 시켜줍니다.
서로 다른 프로토콜 여기는 이제 기가빗 이더넷을 사용하고 여기 이제 100메가 BPS를 사용하면 서로 다른 프로토콜을 쓰는 거잖아요.
얘를 연결해주는 장비로 브리치 이건 이제 불질 두 대 쓰는 겁니다.
두 대 왜 두 대를 쓰냐면 여기 이제 서울 본사 서울 본사고 여기 이제 지방의 지사 하고 서로 연결하기 위해서 이렇게 브릿지를 사용을 하는 겁니다.
이렇게 브릿지를 사용해서 여기는 이제 w 구간이 되는 거죠.
와이드 데어리 네트워크 구간이 되는 겁니다. 그래서 이렇게 이용하던 장비들이 이제 이런 게 넷 기어라는 회사에서 나온 이런 장비들이 있었습니다.

41:55
그래서

41:56
지금까지 걸 정리해 보면 레이어 원에 해당되는 장비는 리피터 허브 이런 거였고 그다음에 이제 레이어 2에 해당되는 장비는 l2 스위치 그다음에 브리치 이런 장비가 있었다 있었다라는 겁니다.
그다음에 이제 레이어 3에 해당되는 장치가 라우터입니다.
라우터 그래서 라우터는 3 레이어 디바이스라고 하고 얘가 하는 역할은 루트 패키치 패킷이 요리 가라 조리 가라 경로를 이제 설정해준다.
베이스 o 뭘 기초로 하냐 하면 로지컬 어드레스 맥 어드레스가 아닙니다.
맥어드레스 그러니까 맥 어드레스는 링크 레이어에서 사용되는 어드레스고 이제 라우터는 네트워크 장비니까 네트워크 레이에서 사용되는 어드레스 즉 IP 어드레스로 아이피 어드레스로 로지컬 어드레스라는 건 아이피 어드레스예요.
아이피 어드레스에 기초해서 패킷을 요리 가라 조리가라 정해주는 장치가 라우터 그게 라우터입니다.
라우터 그래서 라우터는 보통

43:05
이제 이게 우리 성대 명륜동의 서울 캠퍼스라고 하게 되면 실제로 우리 라우터가 있습니다.
600주년 기념관에 그 라우터에서 수원까지 이게 선이 이렇게 쫙 연결되는 거죠.
이제 여기 연결해서 갈 때 이제 지난번에 지난 시간에 얘기했던 해화전화국 거쳐가지고 저기 수원까지 가서 북수원 전화국에서 또 우리 저기 뭐죠? 과학도서관 학술정보관 학술정보관으로 연결을 하는 겁니다.
거기까지 이렇게 연결 거기 학술정보관에도 라우터가 있어요.
라우터가 있습니다. 그래서 여기 라우터 거기 라우터 이렇게 연결해서 인터넷을 우리가 쓰고 있다라는 겁니다.
그래서 얘가 하는 역할은 이제 네트워크 레이어에 대한 여러분이 이해가 있어야 이 라우터하고 이 스위치하고 구분을 할 수가 있습니다.
그래서 이제 아무튼 라우터라는 거는 이렇게 보통 이제 한 기관에서 다른 기관으로 이렇게 연결할 때 많이 쓰이는데 꼭 그런 거는 아니에요.
우리 이제

44:08
이 호암관에 라우터가 있고 그다음에 경영관에 라우터가 있고 600주년 라우터가 있고 이렇게 연결할 때도 라우터를 씁니다.
이렇게 꼭 왼으로 나가는 구간이 아니라 하더라도 라우터를 사용할 수 있습니다.
근데 라우터가 하는 역할은 패킷의 경로를 설정한다.
IP 주소에 기반해서 패킷의 경로를 설정한다라는 겁니다.
그래서 제가 역시 이제 아마존에 찾아보니까 이렇게 글씨가 작아서 보일까 모르겠는데 이게 뭐 예를 들면 시스코 라우터입니다.
시스코 라우터 이게 시스코 라우터고 이게 이제 cisco 라는 거 있잖아요.
ciso 시스코 라우터가 지난번에 잠깐 얘기했듯이 전 세계 시장의 거의 70~80%를 차지하던 경우가 있었습니다.
지금은 그 정도 아닌데 엄청나게 유명한 회사입니다.

45:00
그래서

45:01
여러분 샌프란시스코 알죠? 샌프란시스코 샌프란시스코의 뒤에 글자가 cisco예요.
샌프란시스코에서 이 벤처기업이 시작을 해가지고 거기에서 이제 따온 겁니다.
그래서 시스코라는 회사의 이름을 따서 네트워크 장비를 만들었는데 워낙 잘 만들어서 우리나라에는 거의 90%까지 이 시스코 장비가 사용되던 그런 시절도 있었습니다.

45:27
그래서

45:28
이 스코를 이걸 막 이렇게 매니지 해야 되잖아요. 이거를 이렇게 관리하고 이것도 이게 iOS라고 하는 OS가 들어가 있거든요.
이제 OS가 들어가 있으면 여기 설정하고 이런 것들을 해줘야 돼요.
이제 그런 걸 하기 위해서 이 시스코사에서 이제 자격증이 나왔는데 그 자격증이 ccna cci 이런 자격증이 ccna 들어봤어요.
안 들어봤어요 시스코 자바 그런 자격증처럼 네트워크 쪽에 관련된 자격증입니다.
ccna는 지금도 많이 인정을 해 줍니다. 왜냐하면 ccna가 이 시스코 전문적으로 관리할 수 있는 자격증인데 우리나라에 있는 많은 장비들이 이 인터페이스 자체가 이게 시스코처럼 되어 있어요.
그래서 아직까지도 이게 많이 사용이 되고 있는 장치입니다.
그래서 이 시스코 장비인데 이게 라우터입니 라우터 근데 이제 포트들이 보이죠.
여기 포트들 허브처럼

46:32
그렇죠 허브처럼 포트들이 보이죠. 그러니까 이게 일반 허브에서 l2 스위치 나왔다가 또 이게 여기다 소프트웨어를 또 업그레이드 시킨 겁니다.
레이어 3 기능을 업그레이드 시킨 겁니다. 그래서 이거 보게 되면 뭐 매니드 스위치 그다음에 48 포트 그러니까 이게 포트 수가 48개라는 뜻입니다.
48개 포트 그래서 여기 시험 문제에 나왔던 poe 이걸 왜 오브라고 썼는지 참

47:04
아무튼 poe

47:08
제가 외우라는 게 다 이유가 있어요. 이게 다 쓰이는 용어들이기 때문에 그래서 이게 스펙 읽어보면 여러분 아는 말들이 많이 나옵니다.
그래서 이거는 이제 시스코 라우터인데 여기에 이제 포트들이 이렇게 연결해가지고 포트들이 연결해서 라우팅 기능까지 갖고 있는 허브다 이렇게 보시면 됩니다.
또 이런 것들도 있어요. 포트 몇 개 없는 거 이런 거는 이제 4개의 포트 여기서 이렇게 이제 수원에 이게 만약에 성대 명릉 캠퍼스에 있는 라우터라고 하면 여기서 포트 하나가 이렇게 수원으로 이렇게 가는 겁니다.
수원 여기 포트 하나는 이제 KT로 가는 거죠. KT로 그래서 인터넷 쓸 수 있게 또 하나는 또 혹시 모르니까 이제 삼성 이런 네트워크에 이렇게 연결할 수도 있고 이렇게 으로 이렇게 이제 연결되는 포트입니다.
왼으로 연결된다는 얘기는 이제 전화국하고 연결된다는 뜻이 되는 겁니다.

48:04
그래서

48:05
이런 것들이 이제 전부 다 이제 라우터들이다. 여기 이제 라우터란 말이 나옵니다.
라우터 인터넷 라우터 4 기가빗 w 포트 그러니까 이게 이제 하나씩 한 1기가씩 제공을 하나 보죠.
속도가 이제 그런 장치들입니다. 그 라우터 외에 또 l3 스위치라고 있습니다.
l3 스위치 라우터하고 또 l3 스위치가 용어가 달라요.
그래서 제가 네이버 검색을 해보니까 넷기어사의 l3 스위치가 나오더라고요.
이게 1100만 원짜리네 체험 방법 이것도 안 보일 텐데 여기 l3 스위치 이렇게 써 있습니다.
l3 스위치라고 여기 써 있습니다. 그래서 이런 것들이 이제 l3 스위치다.
그러니까 이게 이제 허브인데 일반 허브가 아니고 l2 스위치가 아니고 네트워크 기능까지 네트워크 라우팅 기능까지 탑재돼 있는 그런 스위치다라는 겁니다.
그래서 이 l3 스위치는 l2에서 발전된 형태 라고 보는 거고 이제 라우터라고 하는 것은 원래 이제 원격지하고 연결하기 위해서 만들어진 건데 거기에 이제 포트도 많이 넣고

49:14
그런 기능으로 그래서 사실은 이제 구분이 별로 없어진 거죠.
l3 스위치하고 라우터하고 그래서 교재에는 라우터만 얘기가 나오고 l3 스위치가 얘기가 없는 겁니다.
근데 이제 현실적으로는 여러분이 이제 어느 회사에 가건 학교에 가건 l3 스위치라는 말 쓰고 있어요.
쓰고 있고 라우터라는 말도 씁니다. 그래서 이제 두 개를 여러분들이 다 알고 있을 필요가

49:41
있습니다.

49:43
그래서 l3 스위치라고 부르게 되면 이제 그 l2 스위치에서 네트워크 라우팅 파트를 이제 추가한 거를 LS 스위치라고 부른다라는 겁니다.
보통 이렇게 에이직이라고 하는 반도체가 들어가서 소프트웨어적인 기능들을 해주게 됩니다.
그다음에 책에는 없지만 또 l4 스위치가 있어요.
이제 레이어 5개가 있잖아요. 근데 교재는 지금 그러니까 레이어 3까지만 나와 있는데 레이어 4 지원하는 또 스위치가 있습니다.
그걸 l4 스위치라고 하는데 l4 스위치도 용어를 또 사용합니다.
여러분 이제 가보면 l4 스위치라는 말을 많이 사용을 하거든요.
이거는 이제 l3 스위칭에서 이제 한 단계 더 업그레이드 이제 더 시킨 겁니다.
그러니까 이제 일반적으로 아무 기능이 없는 허브에서 이제 필터링 기능을 갖게 하는 거 그래서 이제 맥어드레스를 학습을 해서 이리 보낼까 저리 보낼까라는 걸 기능도 갖는 거 그게 이제 l2 스위치가 되고 이제 l3 스위치가 되면

50:47
스페닝 트 알고리즘 이런 게 필요가 없어요. IP 어드레스를 기반으로 해서 여러 개의 스위치들이 연결이 되거나 라우터들이 연결이 돼 있다 그러면 어디로 가는 경로가 제일 좋은지라는 거를 IP 어드레스 가지고서 패킷을 경로를 설정할 수가 있어요.
레이어 3 기능을 갖게 되면 이제 l2는 그게 없으니까 스페닝트리 알고리즘을 돌려서 루프가 안 생기게 하고 막 이런 걸 하는데 이제 그런 거 할 필요가 없는 거죠.
레이어 3가 제공되면 라우팅 기능이 있어서 이게 어디로 거쳐가는 게 제일 좋은지 자기들끼리 커뮤니케이션해서 이제 패킷을 전달하는 기능을 보강을 하고 있습니다.
그래서 이제 l3 스위치가 이제 더 비싸지죠. 더 고가로 됩니다.
근데 그런데 이제 여기서 또 이제 트랜스포트 레이어까지 이렇게 올라가는 이제 트랜스포트 레이어로 올라가게 되면 애플리케이션을 구분을 한다는 뜻이 됩니다.
이게 이제 이메일로 가는 건지

51:42
아니면 FTP로 가는 건지 아니면 HTTP로 가는 건지 아니면 클라우드 접속하는 건지 이거를 구분을 하는 거예요.
얘가 스위치가 그래서 일반적인 네트워크 쪽에서 쓰이는 게 아니라 서버 단에서 보통 쓰입니다.
서버 단에서 그래서 이제 주로 많이 사용하는 게 로드밸런싱하는 데 많이 사용을 합니다.
l4 스위치 그래서 외부에서 이렇게 게임 서버로 여러 트래픽이 확 몰리게 되면 네이버 같은 경우도 WWW 네이버 홈 그러면 그게 서버 컴퓨터 한 대겠어요? 아닙니다.
서버 팜이라고 그래서 수십 대가 있습니다. 수십 대 같은 기능을 하는 자기 콘텐츠는 백단의 DB 쪽에서 하나만 딱 갖고 있고 여기서 액세스하는 서버들은 여러 개가 쫙 존재하는 거죠.
존재하는 겁니다. 근데 IP 주소가 다 다를 거거든요.
그러면 이제 여기에서 인터넷 트래픽이 확 들어오게 되면 l4 스위치가

52:39
이게 HTTP로 가는 거잖아요. 그럼 이제 로드 상황을 보고 한 번은 이리 보냈다 한 번은 이리 보냈다 한 번은 저리 보냈다 이렇게 하는 겁니다.
이렇게 게임 서버도 마찬가지고 게임 서버도 마찬가지고 이렇게 저렇게 분배하는 거죠.
얘가 분배하는 겁니다. 그래서 이제 l4 스위치를 애플리케이션을 구분하니까 l4 스위치를 여기다 두고서 이제 서버에 로드 밸런싱하는 데 주로 많이 사용을 하게 됩니다.
이제 여기 이제 그 말을 뭐라고 해놨냐 하면 어디셔널 데이터그램 인스펙션 바이 리딩 포 넘버러스라고 해 포트 번호로 포트 번호가 곧 애플리케이션을 구분하기 때문에 그거를 얘가 이제 한다.
이제 레이아웃 3에서는 그걸 못 하거든요. IP 어드레스만 가지고 핸들링 하는데 이제 레이어 4가 되면 이제 포트 넘버를 보니까 그걸 가지고서 얘가 IP 주소를 바꿔가지고 이리 보냈다 저리 보냈다 이렇게 로드 밸런싱을 해주게 됩니다.

53:40
그래서 이게 이런 역할을 하는 거를 이제 l4 스위치라고 부르고요.
그래서 보통 이제 저도 이거 찾아보니까 아마존에도 이런 스위치가 이제 l4 스위치라고 나오더라고요.
그래서 이제 여기 보면 l4 스위치 l4 이런 말이 나옵니다.
이런 게 이제 lf 스위치에 해당이 되고 이제 네이버에도 검색해 보니까 여기 네트워크 센터 이런 데 들어가면 이게 l4 스위치 10기가 아포트 l4 스위치가 1개월 임대하는 데 77만 원 이렇게 이렇게 나옵니다.
여러분이 이제 수강 신청할 때도 쓰겠죠. 여러분 이제 GLS 서버에 이 순간 팍 몰리잖아요.
그렇죠 그러면 이제 그 l4 스위치가 팍팍 이렇게 로드 밸런싱을 하나의 서버를 빠르게 동작할 수도 있지만 이 작은 작은 서버들을 여러 개 분배시켜놓고 네트워크 입장에서 이렇게 로드 밸런싱하는 게 더 효율적일 수 있죠.
그러면 이제 하나가 죽어도 나머지 동작은 하니까 이제 그런데 이제 이런 스위치들을

54:44
사용을 하고 있습니다. 그러니까 그거를 이제 여러분이 이렇게 잘 구분해내는 게 네트워크 설계할 때 그 지식이 있느냐 없느냐가 차이가 있게 되겠죠.
그다음에 이제 l7 스위치 게이트웨이 이런 말들이 있습니다.
일단 이제 원래대로 따지면 l7이 아니라 l5 스위치여야 되죠.
이제 l4 다음에는 레이어가 5개까지 있으니까 l5 스위치라고 불러야 되는데 l5 스위치라고 부르지 않습니다.
왜냐하면 이제 여러분 이제 tcpip 모델은 5개 계층으로 이루어져 있지만 osi 계층은 7개 계층으로 이렇게 osi 레이어는 7개대로 돼 있잖아요.
그래서 이 7개의 제일 상위 있는 애플리케이션 레이어다라고 해서 이거를 l7 스위치 이렇게 부릅니다.
혹은 콘텐츠 스위치 이렇게도 부르고 혹은 ADC 애플리케이션 딜리버리 컨트롤러 이런 말들을 사용을 합니다.
그런데 l7 스위치를 구글에서 검색하면 안 나옵니다.
이 공식적으로 사용하지 않아요.

55:52
공식을 사용하지 않습니다. 콘텐츠 스위치도 잘 안 나오고 지금 이제 많이 사용하는 말은 애플리케이션 딜리버리 컨트롤러 이런 말들을 많이 사용을 하거든요.
근데 이걸 설명할까 말까 했는데 근데 이런 용어들을 우리나라에서는 쓰거든요.
이 용어들을 그래서 이게 뭔지는 알아야 될 것 같아서 그래서 이제 이 용어를 설명을 드리는 거고 뭐 이런 데 사용합니다.
이것만 쓰이는 건 아닌데 이런 거를 사용합니다. 예를 들면 이미지 캐싱 같은 걸 해요.
이제 이게 l7 스위치다 l7 스위치다 그러면 이제 원래 서버에 여기 여기서 동작해야 될 거를 콘텐츠를 여기에 미리 이제 가져옵니다.
캐싱을 하는 겁니다. 이미지 캐싱 여러분이 왜 컴퓨터 구조에서 캐싱하잖아요.
캐싱해서 메인 메모리 액세스하는 것보다 캐시에서 먼저 가져오는 거 그게 이제 히트레이쇼 이런 말 나오잖아요.
그렇죠 그런 것처럼 네트워크 단에서 이미지 서버에 있던 것들을 이제 자주 사용되는 거는 캐싱으로 가져오면

56:50
외부에서 접속했을 때 서버까지 가지 않고 l7 스위치에서 바로 응답을 해주게 되면 빨리빨리 응답이 일어나겠죠.
그래서 이런 용도로 사용하는 거를 이제 애플리케이션 데이터 애플리케이션 데이터 자체를 가져다가 보내주는 거니까 이거를 이제 l7 스위치 이렇게 부르고 있는 겁니다.
이거 말고 찾아보면 이제 역할들이 많이 있는데 이런 역할을 하는 게 l7 스위치다 콘텐츠 스위치다 애플리케이션 딜리버리 컨트롤러다라는 정도만 알고 있으면 될 것 같습니다.
그리고 이제 게이트웨이라는 말도 나오는데 게이트웨이는 지금은 많이 사용하지 않습니다.
또 왜냐하면 예전에는 네트워크 프로토콜들이 막 춘추전국 시대가 있었어요.
각 제조사사별로 다 자기 나름대로의 프로토콜을 갖고 있을 때는 예를 들면 이제 IBM 빗넷이라고 하는 것은 IBM에서 사용하는 프로토콜들이 따로 있었고 또 인터넷은 인터넷에 사용하는 프로토콜이 다 따로따로 있었습니다.
이제 그런 시절이 있었는데

57:59
그런 시절에는 서로 완전히 프로토콜이 다른 것들을 연결하기 위해서 중간에 이제 프로토콜 변환을 해주는 게 필요했습니다.
프로토콜 컨버전해주는 기능하는 거를 우리가 이제 게이트웨이라고 이제 불렀어요.
우리가 이제 러시아 사람 만나면 우리가 러시아 말을 모르잖아요.
통역하는 사람이 있어야 되듯이 중간에 이렇게 완전히 다른 프로토콜들을 서로 연결시켜줘서 번역해주는 변환해주는 그런 기능해주는 장치를 우리가 게이트웨이라고 불렀습니다.
이제 이걸 변환하려면 어떻게 해야 되냐 하면 이쪽에서 사용하는 프로토콜이 서로 다르니까 예를 들어서 이메일을 완전히 다른 네트워크로 이제 보내야 된다.
그럼 여기에서 계층에서 헤더를 다 떼어내고 알맹이만 순수한 사용자 데이터만 딱 나올 거 아니에요 그 데이터를 이쪽 프로토콜에 맞게끔 다시 인캡슐레이션을 하는 겁니다.
이렇게 해서 이렇게 보내야 되는 구조인 거죠. 그러니까 이제 완전히 서로 다른 프로토콜들은

59:02
최종 보내고자 하는 알맹이가 나올 때까지 캡슐을 다 까고 그쪽 프로토콜에 맞게끔 다시 씌워서 보낸다.
이제 그렇게 해주는 프로토콜이 그렇게 해주는 장치가 게이트웨이라는 장치가 필요했죠.
그런데 지금은 tcpip 인터넷으로 거의 천하 통일이 돼 있기 때문에 그런 게 필요가 없는 거예요.
다 tcpip 인터넷 쓰니까 그러다 보니까 이 교재의 내용도 이제 이 6판이 나오면서 이 tcpip 쪽으로 완전히 이제 설명이 이렇게 바뀌어버리다 보니까 이제 좀 제가 아쉬운 거는 이제 일반 네트워크에서 배워야 될 내용들이 많이 빠져 있어서 그래서 제가 이제 좀 보충적으로 설명을 하는 겁니다.
그래서 이제 게이트웨이는 게이트웨이는

59:47
어

59:48
커넥팅 디바이스인데 뷰틴 2 인터네트웍스 두 인터네트워크 네트워트를 서로 연결하는 데 사용되는 디바이스다.
근데 이제 저 인터네트워크라고 하는 두 개의 두 개의 네트워크이 유즈 디퍼런트 모델스 이제 하나는 tcpip 모델 하나는 osi 7 레이어 모델 이런 서로 다른 완전히 서로 다른 프로토콜을 사용하게 되는 경우에 연결시키는 장치가 게이트웨이다 라고 이야기를 하고 있습니다.
그래서 이제 정리를 해보면 이제 l2 스위치는 이렇게 맥어드레스로 백어 드레스로 이렇게 보낼까 저렇게 보낼까 이렇게 해주고 l3 스위치는 IP 주소로 이렇게 보낼까 저렇게 보낼까 설정을 해주고 그다음에 이제 l4 스위칭은 IP 주소에서 이제 포트 번호까지 다 읽는 거죠.
이 포트번호도 있고 그다음에 이제 l5 l7 스위칭은 이제 그 내용까지 내용까지 다 읽을 수 있는 게 그게 이제 l7 스위치의 역할이다

1:01:00
하나는 겁니다.

1:01:03
그다음에 이제 백본이라는 말이 있습니다. 백본 백본은 뭐냐 하면 네트워크하고 네트워크을 연결해주는 네트워크 헷갈리죠.
네트워크과 네트워크을 연결해주는 네트워크 걔를 뭐라고 부른다? 백번 백번 네트워크 혹은 그냥 백번이라고도 부릅니다.
그래서 이제 백번이 그런 말들이 있습니다. CL시드 백번이라는 말도 있고 포인트 포인트 백본이라는 말도 있고 여러 가지 용어들이 있는데 이게 이제 렌이에요.
렌 렌 텐베이스 티가 됐건 텐베이스 5가 됐건 렌이에요.
이거는 뭐죠? 요거 요거 요거는 이거 텐베이스 5 텐베이스 5 렌이죠.
이것도 네트워크이죠. 이것도 네트워크하고 네트워크를 연결하는 데 브리지라는 장비를 쓰고 있습니다.
l2 스위치를 쓸 수도 있고 이렇게 쓰고 있습니다.
그럼요. 중간에 요 텐베이스 5는 무슨 역할이에요? 이쪽에 영업 1팀에 있는 여기 붙어 있는 어떤 컴퓨터하고 여기에 렌을 타고서 브릿지를 타고서

1:02:09
이 가운데 텐베이스 5를 타고 영업 2팀의 컴퓨터가 서로 통신할 수 있죠.
그죠? 그러면 중간에 있는 얘는 이 텐베이스 5는 네트워크과 네트워크을 연결해주는 네트워크 역할을 하죠.
그렇죠 그럼 얘를 텐베이스 5 백1이라고 부릅니다.
베이스 5 네트워크과 네트워크을 연결해주는 네트워크 여기 여기에 이제 텐베이스 t 아니면 100베이스t 쓰고 있어요.
여기도 쓰고 있고 여기도 쓰고 있고 여기는 이제 교무실 1번 여기 교무실 2번 학생들 실습실 실습실 이 학교에 이 전체를 연결하기 위해서 l3 스위치를 쓰고 있어요.
1기가짜리 이렇게 쓰고 있습니다. 그럼 얘가 하는 역할은 뭐죠? 교무실에 있는 컴퓨터가 학생 컴퓨터실에 있는 컴퓨터에 접속하기 위해서 이렇게 타고서 이렇게 가야 되잖아요.
그렇죠 그럼 이 얘가 하는 역할은 얘하고 얘를 연결시켜주는 얘도 네트워크이잖아요.
그렇죠 그 네트워크이죠. 그럼 얘가

1:03:12
100번 100번 네트워

1:03:15
얘를 백본 네트워크 그중에서 이렇게 스위치를 쓰는 걸 이제 컬렉시드 백본이라고 하는데 아무튼 얘를 백본 백번 스스위치라고 합니다.
그래서 어떤 말 쓰냐 하면 성대는 기가빗 이서넷을 백번으로 쓰고 있어요.
이렇게 얘기합니다. 그 얘기는 무슨 얘기냐 하면 호암관하고 경영관하고 인문사회관하고 법학관하고 600주년하고 이거를 연결시키는 네트웍으로 기가 인터넷을 백본 네트워크로 쓰고 있구나 이런 얘기가 되는 겁니다.
이런 꼭 고속도로 같은 거죠. 지방의 국도를 연결해주는 고속도로처럼 고속도로처럼 이렇게 네트워크과 네트워크을 연결시켜주는 네트워크을 이제 백본이라고 한다.
그래서 네트워크을 설계할 때는 백본 네트웍을 뭐로 가져갈 거냐라는 걸 설계를 하게 됩니다.
그래서 예전에 성대는 ATM 백본을 썼어요. ATM 백본 지난번에 얘기했던 ATM 백본을 썼습니다.
그래서 수원의 이과대 건물하고 공대 10대 20대 약대 농대 다 연결하는 이 네트웍으로

1:04:20
연결하는 네트워크로 ATM 프로토콜을 쓴 겁니다.
그래서 ATM 백본을 썼었어요. 아니 우리는 FDI 백본을 쓰고 있다 이렇게 얘기를 합니다.
그럼 네트워크과 네트워크을 연결하는 네트웍으로 어떤 프로토콜을 쓰고 있는지를 명시하는 게 되는 겁니다.
그래서 백본은 네트워크과 네트워크을 연결시켜주는 네트워크이다.
이걸 이제 포인트 포인트 백번이라고 부릅니다. 이런 네트워크하고 저런 네트워크하고 w으로 전용 회선으로 연결한 이것도 네트워크이 됩니다.
그래서 포인트 페인트 백본이라고도 부른다. vl는 다음에 다음 시간에 해야 되겠네요.
여기까지 하겠습니다.


clovanote.naver.com